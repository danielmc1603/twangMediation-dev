library(twang)
library(twangMediation)
library(twangMediation)
# the updated bal.table.mediation function by Dan
bal.table.mediation(cig_med)
TEps <- ps(formula = lgb_flag ~ age + race + educ + income + employ,
data=NSDUH_female, verbose=F, n.trees=5000, estimand="ATE")
#wgtmed takes a few minutes, so try out running in parallel
cig_med <- wgtmed(formula.med = cig15 ~ age + race + educ + income + employ,
a_treatment="lgb_flag",
y_outcome="cigmon",
data=NSDUH_female,
method="ps",
total_effect_ps=TEps,
total_effect_stop_rule="ks.mean",
ps_version="gbm",
ps_n.trees=6000,
ps_interaction.depth=3,
ps_shrinkage=0.01,
ps_stop.method="ks.mean",
ps_verbose=FALSE)
rm(TEps)
rm(alert)
library(rhub)
library(devtools)
library(tools)
devtools::check("/Users/tophey/Documents/repo_temple/twangMediation-dev/twangMediation")
devtools::check("/Users/tophey/Documents/repo_temple/twangMediation-dev/twangMediation",document= FALSE)
rhub::check(path = "/Users/tophey/Documents/repo_temple/twangMediation-dev/twangMediation_1.0.tar.gz",
platform = "macos-highsierra-release-cran")
rhub::check_on_ubuntu()## Do this!! OK!!!!
